

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>User guide &mdash; Meta-Analysis  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Welcome to Meta-Analysis’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Meta-Analysis
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">User guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#maps">Maps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dataframe">Dataframe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#affine">Affine</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Meta-Analysis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>User guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/references.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="user-guide">
<h1>User guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="maps">
<h2>Maps<a class="headerlink" href="#maps" title="Permalink to this headline">¶</a></h2>
<p>Maps initialization rely on a simple DataFrame object containing the data.</p>
<div class="section" id="dataframe">
<h3>Dataframe<a class="headerlink" href="#dataframe" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>map_id</p></th>
<th class="head"><p>x</p></th>
<th class="head"><p>y</p></th>
<th class="head"><p>z</p></th>
<th class="head"><p>weights</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>-3.0</p></td>
<td><p>42.0</p></td>
<td><p>12.0</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>-3.0</p></td>
<td><p>-57.0</p></td>
<td><p>23.0</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>4.0</p></td>
<td><p>-57.0</p></td>
<td><p>24.0</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>-9.0</p></td>
<td><p>54.0</p></td>
<td><p>27.0</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>15.0</p></td>
<td><p>36.0</p></td>
<td><p>22.0</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="affine">
<h3>Affine<a class="headerlink" href="#affine" title="Permalink to this headline">¶</a></h3>
<p>[…]</p>
<dl class="class">
<dt id="meta_analysis.Maps">
<em class="property">class </em><code class="sig-prename descclassname">meta_analysis.</code><code class="sig-name descname">Maps</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">template=None</em>, <em class="sig-param">Ni=None</em>, <em class="sig-param">Nj=None</em>, <em class="sig-param">Nk=None</em>, <em class="sig-param">affine=None</em>, <em class="sig-param">mask=None</em>, <em class="sig-param">atlas=None</em>, <em class="sig-param">groupby_col=None</em>, <em class="sig-param">x_col='x'</em>, <em class="sig-param">y_col='y'</em>, <em class="sig-param">z_col='z'</em>, <em class="sig-param">weight_col='weight'</em>, <em class="sig-param">save_memory=True</em>, <em class="sig-param">verbose=None</em>, <em class="sig-param">dtype=&lt;class 'numpy.float64'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Store data of several maps and implement operations on it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – Pandas DataFrame containing the (x,y,z) coordinates, the weights and the map id. The names of the columns can be specified.</p></li>
<li><p><strong>template</strong> (<em>nibabel.Nifti1Image</em>) – Template storing the box size and affine. If not None, Will overwrite parameters Ni, Nj, Nk and affine.</p></li>
<li><p><strong>Ni</strong> (<em>int</em>) – X size of the bounding box.</p></li>
<li><p><strong>Nj</strong> (<em>int</em>) – Y size of the bounding box.</p></li>
<li><p><strong>Nk</strong> (<em>int</em>) – Z size of the bounding box.</p></li>
<li><p><strong>affine</strong> (<em>numpy.ndarray</em>) – Array with shape (4, 4) storing the affine used to compute brain voxels coordinates from world cooridnates.</p></li>
<li><p><strong>mask</strong> (<em>nibabel.Nifti1Image</em>) – Nifti1Image with 0 or 1 data.  0: outside the mask, 1: inside.</p></li>
<li><p><strong>atlas</strong> (<em>Object</em>) – Object containing a nibabel.Nifti1Image or a path to it in atlas[‘maps’] and a list of the labels in atlas[‘labels’]</p></li>
<li><p><strong>groupby_col</strong> (<em>str</em>) – Name of the column on which the groupby operation is operated. Or in an equivalent way, the name of the column storing the ids of the maps.</p></li>
<li><p><strong>x_col</strong> (<em>str</em>) – Name of the column storing the x coordinates.</p></li>
<li><p><strong>y_col</strong> (<em>str</em>) – Name of the column storing the y coordinates.</p></li>
<li><p><strong>z_col</strong> (<em>str</em>) – Name of the column storing the z coordinates.</p></li>
<li><p><strong>weight_col</strong> (<em>str</em>) – Name of the column storing the weights.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="meta_analysis.Maps.apply_mask">
<code class="sig-name descname">apply_mask</code><span class="sig-paren">(</span><em class="sig-param">mask</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.apply_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the contribution of every voxels outside the mask to zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mask</strong> (<em>nibabel.Nifti1Image</em>) – Nifti1Image with 0 or 1 array. 0: outside the mask, 1: inside.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.array_to_img">
<em class="property">static </em><code class="sig-name descname">array_to_img</code><span class="sig-paren">(</span><em class="sig-param">array</em>, <em class="sig-param">affine</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.array_to_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a dense 3D array into a nibabel Nifti1Image.</p>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.avg">
<code class="sig-name descname">avg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.avg" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the average map.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(Maps) New Maps instance containing the average map.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.concatenate">
<em class="property">classmethod </em><code class="sig-name descname">concatenate</code><span class="sig-paren">(</span><em class="sig-param">seq</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.concatenate" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate given sequence of Maps object.</p>
<p>For example if the first object contains 1 map and the
second 2 maps, the concatenated object contains the 3 stacked maps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>seq</strong> (<em>sequence</em>) – Sequence of Maps object to concatenate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Maps) Instance of Maps object</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If shapes of maps missmatch or empty sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.copy_header">
<em class="property">classmethod </em><code class="sig-name descname">copy_header</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.copy_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Maps instance with same header as given Maps object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#meta_analysis.Maps" title="meta_analysis.Maps"><em>Maps</em></a>) – Maps instance wanted informations.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Maps) Instance of Maps object.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.cov">
<code class="sig-name descname">cov</code><span class="sig-paren">(</span><em class="sig-param">atlas=True</em>, <em class="sig-param">bias=False</em>, <em class="sig-param">shrink=None</em>, <em class="sig-param">sparse=False</em>, <em class="sig-param">ignore_bg=True</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.cov" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the empirical covariance matrix of the voxels, the observations being the different maps.
Important : Considering covariance between atlas’ labels (atlas=True) instead of voxels is highly recommended
since the number of voxels is often huge (~1 million), the covariance matrix would be of big shape (1 million, ~1 million) and the computation will probably not finish.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atlas</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, consider covariance between atlas’ labels. If False, covariance between voxels. Default is True (recommended).</p></li>
<li><p><strong>bias</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, computes the biased covariance, else unbiased. Defaults to False.</p></li>
<li><p><strong>shrink</strong> (<em>str</em><em>, </em><em>optional</em>) – Shrink the covariance matrix. If ‘LW’, the LedoitWolf method is applied. Default is None.</p></li>
<li><p><strong>sparse</strong> (<em>bool</em><em>, </em><em>optional</em>) – If False, converts the sparse covariance matrix to a dense array. Else, let it sparse. Default is False</p></li>
<li><p><strong>ignore_bg</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, ignore the first label of the atlas (background).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(numpy.ndarray or scipy.sparse.csr_matrix) A 2D matrix (sparse or dense depending on sparse parameter) of shape (n_voxels, n_voxels) representing the covariance matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.empty">
<em class="property">classmethod </em><code class="sig-name descname">empty</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty Maps object.</p>
<p>See Maps.__init__ doc for valid kwargs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(Maps) Instance of Maps object.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.iterative_smooth_avg_var">
<code class="sig-name descname">iterative_smooth_avg_var</code><span class="sig-paren">(</span><em class="sig-param">compute_var=True</em>, <em class="sig-param">sigma=None</em>, <em class="sig-param">bias=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.iterative_smooth_avg_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute average and variance of the maps in self.maps (previously smoothed if sigma!=None) iteratively.
(Less memory usage).</p>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.map_to_array">
<em class="property">static </em><code class="sig-name descname">map_to_array</code><span class="sig-paren">(</span><em class="sig-param">map</em>, <em class="sig-param">Ni</em>, <em class="sig-param">Nj</em>, <em class="sig-param">Nk</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.map_to_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a sparse matrix of shape (n_voxels, 1) into a dense 3D numpy array of shape (Ni, Nj, Nk).</p>
<p>Indexing of map is supposed to have been made Fortran like (first index moving fastest).</p>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.map_to_img">
<em class="property">static </em><code class="sig-name descname">map_to_img</code><span class="sig-paren">(</span><em class="sig-param">map</em>, <em class="sig-param">Ni</em>, <em class="sig-param">Nj</em>, <em class="sig-param">Nk</em>, <em class="sig-param">affine</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.map_to_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a sparse matrix of shape (n_voxels, 1) into a nibabel Nifti1Image.</p>
<p>Ni, Nj, Nk are the size of the box used to index the flattened map matrix.</p>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.max">
<code class="sig-name descname">max</code><span class="sig-paren">(</span><em class="sig-param">atlas=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the maximum. axis=None: element-wise, axis=0: maps-wise, axis=1: voxels/labels-wise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atlas</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the atlas maps are considered.</p></li>
<li><p><strong>**kwargs</strong> – Kwargs are passed to scipy.sparse.csr_matrix.max() function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(numpy.ndarray) 2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.n_peaks">
<code class="sig-name descname">n_peaks</code><span class="sig-paren">(</span><em class="sig-param">atlas=False</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.n_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the sum of weights in each maps (equivalent to number of peaks if unit weights are 1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>atlas</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the atlas maps are considered.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.normalize">
<code class="sig-name descname">normalize</code><span class="sig-paren">(</span><em class="sig-param">inplace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize each maps separatly so that each maps sums to 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True performs the normalization inplace else create a new instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Maps) Self or a copy depending on inplace.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.random">
<em class="property">classmethod </em><code class="sig-name descname">random</code><span class="sig-paren">(</span><em class="sig-param">size</em>, <em class="sig-param">p=None</em>, <em class="sig-param">random_state=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Create random maps from given size.</p>
<p>Must give appropriates kwargs to initialize an empty map.
See the Maps.__init__ doc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – See the Maps.randomize doc.</p></li>
<li><p><strong>p</strong> – See the Maps.randomize doc.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Maps) Instance of Maps object.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.randomize">
<code class="sig-name descname">randomize</code><span class="sig-paren">(</span><em class="sig-param">size</em>, <em class="sig-param">p=None</em>, <em class="sig-param">override_mask=False</em>, <em class="sig-param">inplace=False</em>, <em class="sig-param">random_state=None</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.randomize" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomize maps from based on given size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – int or size 2 tuple or 1D numpy.ndarray.
If 1D numpy.ndarray, creates as many maps as the array length
and sample the given number of peaks in each maps.
Each peak has a weight 1 and the weights of the peaks sampled
on the same voxel of the same map are added.
If tuple (n_peaks, n_maps) given, creates n_maps, samples
n_peaks and assign each peak to a map uniformly.
If int given, equivalent as tuple with n_maps=1.</p></li>
<li><p><strong>p</strong> (<em>Maps instance</em><em> or </em><em>np.ndarray</em>) – (Optional) Distribution of probability of the peaks over the voxels.
The distribution may be given either by a Maps instance containing 1 map or a np.ndarray of same shape as the box of the current Maps instance (Ni, Nj, Nk).
If None, sample uniformly accros the box. Default: None</p></li>
<li><p><strong>override_mask</strong> (<em>bool</em>) – (Optional) If False, use the mask given when initializing the Maps object.
Important : the given distribution p is then shrinked and re-normalized.
If True, no mask is used and p is unchanged. Default : False.</p></li>
<li><p><strong>inplace</strong> (<em>bool</em>) – (Optional) Performs the sampling inplace (True) or creates a new instance (False). Default False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Maps instance) Self or a copy depending on inplace.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.set_coord">
<code class="sig-name descname">set_coord</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">z</em>, <em class="sig-param">val</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.set_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Set value to a given x y z coord</p>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.shuffle">
<code class="sig-name descname">shuffle</code><span class="sig-paren">(</span><em class="sig-param">random_state=None</em>, <em class="sig-param">inplace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.shuffle" title="Permalink to this definition">¶</a></dt>
<dd><p>Shuffle the maps index.</p>
<p>Shuffle the maps index. For example, if 3 maps are stored in this
order (1, 2, 3), shuffling them may lead to a new order (2, 1, 3).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>{int} -- Used to initialize the numpy random seed.</strong> (<em>random_state</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.smooth">
<code class="sig-name descname">smooth</code><span class="sig-paren">(</span><em class="sig-param">sigma</em>, <em class="sig-param">map_id=None</em>, <em class="sig-param">inplace=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve chosen maps with gaussian kernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em>) – Standard deviation of the gaussian kernel.</p></li>
<li><p><strong>map_id</strong> (<em>int</em><em>, </em><em>optional</em>) – If None: convolves each maps. If int: convolves only the chosen map. Defaults to None.</p></li>
<li><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True performs the normalization inplace else create a new instance. Defaults to False</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True print logs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param">prop=0.5</em>, <em class="sig-param">random_state=None</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split maps randomly  based on the given proportion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prop</strong> (<em>float</em>) – proportion of maps to assign in first set.</p></li>
<li><p><strong>random_state</strong> (<em>int</em>) – seed to initialise numpy.random.seed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Size 2 tuple of Maps object. The first contains</dt><dd><p>approximatively the given proportion of the total maps.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(tuple)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.sum">
<code class="sig-name descname">sum</code><span class="sig-paren">(</span><em class="sig-param">atlas=False</em>, <em class="sig-param">axis=None</em>, <em class="sig-param">keepdims=False</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the sum. axis=None: element-wise, axis=0: maps-wise, axis=1: voxels/labels-wise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atlas</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the atlas maps are considered.</p></li>
<li><p><strong>**kwargs</strong> – Kwargs are passed to scipy.sparse.csr_matrix.sum() function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(numpy.ndarray) 2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.summed_map">
<code class="sig-name descname">summed_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.summed_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Sums all maps.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(Maps) New Maps instance containing the summed map.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.threshold">
<code class="sig-name descname">threshold</code><span class="sig-paren">(</span><em class="sig-param">threshold</em>, <em class="sig-param">inplace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold each map according to the given threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> – All value greater or equal to threshold remains
unchanged, all the others are set to zero.</p></li>
<li><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True performs the normalization
inplace else create a new instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Maps) Self or a copy depending on inplace.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.to_array">
<code class="sig-name descname">to_array</code><span class="sig-paren">(</span><em class="sig-param">map_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.to_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one map into a 3D numpy.ndarray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>map_id</strong> (<em>int</em><em>, </em><em>optional</em>) – If int : id of the map to convert (3D output).
If None, converts all the maps (4D output). Defaults to None.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(numpy.ndarray) 3D array containing the chosen map information.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.to_array_atlas">
<code class="sig-name descname">to_array_atlas</code><span class="sig-paren">(</span><em class="sig-param">map_id=None</em>, <em class="sig-param">ignore_bg=True</em>, <em class="sig-param">bg_label=None</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.to_array_atlas" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one atlas map into a 3D numpy.array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map_id</strong> (<em>int</em><em>, </em><em>optional</em>) – If int : id of the map to convert (3D output).
If None, converts all the maps (4D output). Defaults to None.</p></li>
<li><p><strong>ignore_bg</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True: ignore the first label of the atlas (background) which is set to 0 in the returned array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(numpy.ndarray) 3D array containing the chosen atlas map information.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – If no atlas has been given to this instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.to_atlas">
<code class="sig-name descname">to_atlas</code><span class="sig-paren">(</span><em class="sig-param">bg_label=None</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.to_atlas" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the maps into an atlas by creating a label for each different values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(nibabel.Nifti1Image) Nifti1Image containing the atlas
() Labels of the regions</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.to_img">
<code class="sig-name descname">to_img</code><span class="sig-paren">(</span><em class="sig-param">map_id=None</em>, <em class="sig-param">sequence=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.to_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one map into a nibabel.Nifti1Image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>map_id</strong> (<em>int</em><em>, </em><em>optional</em>) – If int : id of the map to convert (3D output).
If None, converts all the maps (4D output). Defaults to None.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(nibabel.Nifti1Image) Nifti1Image containing the chosen map information.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.to_img_atlas">
<code class="sig-name descname">to_img_atlas</code><span class="sig-paren">(</span><em class="sig-param">map_id=None</em>, <em class="sig-param">ignore_bg=False</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.to_img_atlas" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one atlas map into a nibabel.Nifti1Image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map_id</strong> (<em>int</em><em>, </em><em>optional</em>) – If int : id of the map to convert (3D output).
If None, converts all the maps (4D output). Defaults to None.</p></li>
<li><p><strong>ignore_bg</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True: ignore the first label of the atlas (background) which is set to 0 in the returned array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(nibabel.Nifti1Image) Nifti1Image containing the chosen atlas map information.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – If no atlas as been given to this instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.var">
<code class="sig-name descname">var</code><span class="sig-paren">(</span><em class="sig-param">bias=True</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.var" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the variance map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bias</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, computes the biased variance (1/n_maps factor), else compute the unbiased variance (1/(n_maps-1) factor).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Maps) New Maps instance containing the variance map.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="meta_analysis.Maps.zeros">
<em class="property">classmethod </em><code class="sig-name descname">zeros</code><span class="sig-paren">(</span><em class="sig-param">n_maps=1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#meta_analysis.Maps.zeros" title="Permalink to this definition">¶</a></dt>
<dd><p>Create zero-valued maps of the given shape.</p>
<p>See the Maps.__init__ doc for <a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n_maps</strong> (<em>int</em><em>, </em><em>Optional</em>) – Number of maps.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Maps) Instance of Maps object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to Meta-Analysis’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Alexandre PEREZ

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>